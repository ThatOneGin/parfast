TODO: implement basic loops and other stack operations